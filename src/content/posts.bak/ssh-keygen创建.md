+++
date: 2025-05-04
draft: false
title: Ssh Keygenåˆ›å»º
categories: ["ç¼–ç¨‹ç›¸å…³"]
tags: ["ssh"]
+++
# ğŸ› ï¸ ä¸€ã€åœ¨æœ¬åœ°ç”Ÿæˆ SSH å¯†é’¥å¯¹

## æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤

~~~
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
~~~

## å‚æ•°è¯´æ˜

- `-t rsa`:æŒ‡å®šå¯†é’¥ç±»å‹ä¸ºRSA
- `-b 4096`:æŒ‡å®šå¯†é’¥é•¿åº¦(4096æ¯”è¾ƒå®‰å…¨)
- `-C`:æ·»åŠ æ³¨é‡Šï¼Œå¯é€‰

## ç„¶åä¼šæç¤ºä½ ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤æ˜¯

`/home/your_user/.ssh/id_rsa`

æŒ‰å›è½¦å³å¯ï¼ˆä½¿ç”¨é»˜è®¤è·¯å¾„ï¼‰ï¼Œç„¶åè®¾ç½®å¯†ç ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥å›è½¦è·³è¿‡ï¼Œæ— å¯†ç ï¼‰

# ğŸ“‚ äºŒã€å°†å…¬é’¥å¤åˆ¶åˆ°æœåŠ¡å™¨

## æ–¹æ³•1ï¼šä½¿ç”¨`ssh-copy-id`

`ssh-copy-id username@server_ip`
`ssh-copy-id Himari@106.15.58.39`

å®ƒä¼šè‡ªåŠ¨æŠŠæœ¬åœ°çš„ ~/.ssh/id_rsa.pub æ·»åŠ åˆ°æœåŠ¡å™¨çš„ ~/.ssh/authorized_keys ä¸­ã€‚

ä½ ä¼šè¢«è¦æ±‚è¾“å…¥æœåŠ¡å™¨å¯†ç ï¼Œé…ç½®æˆåŠŸåå°±å¯ä»¥å…å¯†ç™»å½•äº†ã€‚

## æ–¹æ³•2ï¼šæ‰‹åŠ¨å¤åˆ¶å…¬é’¥

1. æŸ¥çœ‹æœ¬åœ°å…¬é’¥å†…å®¹

```
cat ~/.ssh/id_rsa.pub
```

2. ç™»å½•è¿œç¨‹æœåŠ¡å™¨

```
ssh username@server_ip
```

3. åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»º`.ssh`æ–‡ä»¶å¤¹(å¦‚æœæ²¡æœ‰):

```
mkdir -p ~/.ssh
chmod 700 ~/.ssh
```

4. ç¼–è¾‘`authorized_keys`æ–‡ä»¶ï¼Œå°†å…¬é’¥ç²˜è´´è¿›å»

```
nvim ~/.ssh/authorized_keys
```

ç²˜è´´åä¿å­˜ï¼Œç„¶åæ‰§è¡Œ

```
chmod 600 ~/.ssh/authorized_keys
```

# ğŸ” ä¸‰ã€æµ‹è¯•å…å¯†ç™»å½•

## é€€å‡ºæœåŠ¡å™¨ï¼Œç„¶åå°è¯•é‡æ–°è¿æ¥

```
ssh username@server_ip
```

å¦‚æœä¸€åˆ‡é…ç½®æ­£ç¡®ï¼Œå°†æ— éœ€è¾“å…¥å¯†ç ï¼Œè‡ªåŠ¨ç™»å½•ã€‚
